const streams = [ "https://live.channel8.com/Channel8-Kurdish/index.m3u8", "https://hlspackager.akamaized.net/live/DB/KURDSAT_HD/HLS/KURDSAT_HD.m3u8", "https://hlspackager.akamaized.net/live/DB/KURDSAT_NEWS/HLS/KURDSAT_NEWS.m3u8", "https://live.host247.net/gk/gksat/chunklist_w1387086520.m3u8", "https://live.kirkuklive.live/hls/stream/index.m3u8", "https://media2.streambrothers.com:1936/8218/8218/HawezHD.m3u8", "http://avrstream.com:1935/live/SHARTV/HawezHD.m3u8", "https://hawezhd@svs.itworkscdn.net/rudawlive/rudawlive.smil/playlist.m3u8", "https://live9.karwan.tv/Spedtvyusfstore/index.m3u8", "https://live9.karwan.tv/Speddeamyusfstore/index.m3u8", "https://hlspackager.akamaized.net/live/DB/AVA_TV/HLS/AVA_TV.m3u8", "https://live20.bozztv.com/giatv/giatv-nrt/nrt/chunks.m3u8", "https://vsd74.okcdn.ru/hls/3527542770279.m3u8/sig/YrMbMxm8Mes/expires/1769194661316/srcIp/185.187.205.206/urls/185.226.53.66/clientType/0/srcAg/CHROME/mid/4728653618791/3527542770279_high/index.m3u8", "https://6476e46b58f91.streamlock.net/liveTrans/SHOWS123/HawezHD.m3u8", "https://avr.host247.net/Ranya/RanyaCity/playlist.m3u8", "http://213.32.255.86:1935/live/Qellat_tv/hawezhd.m3u8", "https://live.kwikmotion.com/waarmedialive/waarmedia.smil/playlist.m3u8", "http://avrstream.com:1935/live/FarmodaTV/HawezHD.m3u8", "http://avrstream.com:1935/live/emantv/HawezHD.m3u8", "http://shnatv.ddns.net:1935/live/shnatv/HawezHD.m3u8", "http://avrstream.com:1935/live/REDTV/hawezhd.m3u8", "http://imkhd.ddns.net:1935/live/imkhd/HawezHD.m3u8", "http://baskhd.ddns.net:40/live/baskhd/HawezHD.m3u8", "https://cdn.karwan.tv/infinity-tv/tracks-v1a1/mono.m3u8", "http://sada-hd.ddns.net:40/live/sadatv/HawezHD.m3u8", "http://avrstream.com:1935/live/AvarTv/HawezHD.m3u8", "https://6476e46b58f91.streamlock.net/liveTrans/KURDS2211/HawezHD.m3u8", "http://baskhd.ddns.net:40/live/Derin/HawezHD.m3u8", "http://baskhd.ddns.net:40/live/BarinfamilyHD/HawezHD.m3u8", "http://baskhd.ddns.net:40/live//barinmovieSHD/mono.m3u8", "http://avrstream.com:1935/live/Kurd7HD/HawezHD.m3u8", "http://avrstream.com:1935/live/AshtiTV/chunklist_w1836984692.m3u8", "https://live20.bozztv.com/giatv/giatv-esra2hd_kamalblbas/esra2hd_kamalblbas/chunks.m3u8", "http://afarintv.flashmediacast.com:1935/afarinTV/livestream/HawezHD.m3u8", "http://afarintv2.flashmediacast.com:1935/afarinTV/livestream/hawezhd.m3u8", "http://avrstream.com:1935/live/kidcohd/HawezHD.m3u8", "https://zindikurmanci.zaroktv.com.tr/hls/stream.m3u8", "https://live20.bozztv.com/giatv/giatv-spikids4k2025/spikids4k2025/chunks.m3u8", "https://zindisorani.zaroktv.com.tr/hls/stream.m3u8", "https://5a3ed7a72ed4b.streamlock.net/live/SMIL:myStream.smil/playlist.m3u8", "http://duhok.badinan.xyz:1935/live/DuhokTV/playlist.m3u8", "http://eurokurd.mymediapc.net:40/live/Eurokurd/playlist.m3u8", "https://tv-trtkurdi.medya.trt.com.tr/master.m3u8", "https://app-live.org/live/3268334b/index.m3u8", "http://bangawaztv.ddns.net:40/live/bangawaztv/playlist.m3u8", "https://live20.bozztv.com/giatv/giatv-nrt4stream/nrt4stream/chunks.m3u8", "https://stream.shams.tv/hls/0/stream.m3u8", "http://mmn.mypsx.net:1935/live/mmnhdnews/playlist.m3u8", "http://mmn.mypsx.net:1935/live/mmnhdquran/chunklist.m3u8", "http://mmn.mypsx.net:1935/live/mmnhddocumentary/playlist.m3u8", "http://mmn.mypsx.net:1935/live/mmnhdmovies/chunklist.m3u8", "http://mmn.mypsx.net:1935/live/mmnhdkids/HawezHD.m3u8", "http://mmn.mypsx.net:1935/live/mmnhddrama/playlist.m3u8", "http://mmn.mypsx.net:1935/live/mmnhdaction/HawezHD.m3u8", "http://bblserver.ddns.net:1935/stream/khakhd/playlist.m3u8", "https://6476e46b58f91.streamlock.net/music/MUSIC2402/chunklist_w1888513023.m3u8", "https://pepsi.abntv.live/hls/4spstream.m3u8", "https://6476e46b58f91.streamlock.net/liveTrans/batifa/chunklist_w632227207.m3u8", "https://kwtspta.cdn.mangomolo.com/sp/smil:sp.stream.smil/chunklist.m3u8", "https://mbc1-enc.edgenextcdn.net/out/v1/0965e4d7deae49179172426cbfb3bc5e/index.m3u8", "http://213.57.91.138:8000/play/a05k", "https://shd-gcp-live.edgenextcdn.net/live/bitmovin-mbc-3-usa/5d58265a862a476dc7f97694addb5ded/index.m3u8", "https://shd-gcp-live.edgenextcdn.net/live/bitmovin-mbc-4/24f134f1cd63db9346439e96b86ca6ed/index.m3u8", "https://shd-gcp-live.edgenextcdn.net/live/bitmovin-mbc-5/ee6b000cee0629411b666ab26cb13e9b/index.m3u8", "http://213.57.91.138:8000/play/a05l", "https://shd-gcp-live.edgenextcdn.net/live/bitmovin-mbc-bollywood/546eb40d7dcf9a209255dd2496903764/index.m3u8", "https://mbc1-enc.edgenextcdn.net/out/v1/b0b3a0e6750d4408bb86d703d5feffd1/index.m3u8", "https://shd-gcp-live.edgenextcdn.net/live/bitmovin-mbc-iraq/e38c44b1b43474e1c39cb5b90203691e/index.m3u8", "https://av.alarabiya.net/alarabiapublish/alhadath.smil/playlist.m3u8", "https://live.kwikmotion.com/alaraby1live/alaraby_abr/playlist.m3u8", "https://tv-trtarabi.medya.trt.com.tr/master.m3u8", "https://stream.skynewsarabia.com/ott/ott.m3u8", "https://d35j504z0x2vu2.cloudfront.net/v1/master/0bc8e8376bd8417a1b6761138aa41c26c7309312/rotana-aflam-plus/master.m3u8", "https://playlist.fasttvcdn.com/pl/toa2uuhhygheuly7xtuqrg/roya-comedy/playlist.m3u8", "https://playlist.fasttvcdn.com/pl/a2le4pbpa6rpzv147haf4w/drama/playlist.m3u8", "https://playlist.fasttvcdn.com/pl/toa2uuhhygheuly7xtuqrg/roya-kitchen/playlist.m3u8", "https://playlist.fasttvcdn.com/pl/ptllxjd03j6g9oxxjdfapg/roya-kids/playlist.m3u8", "https://playlist.fasttvcdn.com/pl/ptllxjd03j6g9oxxjdfapg/roya-kids-originals/playlist.m3u8", "https://shd-gcp-live.edgenextcdn.net/live/bitmovin-spacetoon/d8382fb9ab4b2307058f12c7ea90db54/index.m3u8", "https://c0c65b821b3542c3a4dca92702f59944.mediatailor.us-east-1.amazonaws.com/v1/master/04fd913bb278d8775298c26fdca9d9841f37601f/RakutenTV-eu_BabySharkTV/playlist.m3u8", "https://streams2.sofast.tv/v1/master/611d79b11b77e2f571934fd80ca1413453772ac7/c8d16110-566c-4e95-a1df-55d175e9e201/manifest.m3u8", "https://zoomoo-samsungau.amagi.tv/playlist.m3u8", "http://23.237.104.106:8080/USA_NICKELODEON/index.m3u8", "http://stv.mediacdn.ru/live/cdn/ani/playlist.m3u8", "https://viamotionhsi.netplus.ch/live/eds/canalj/browser-HLS8/canalj.m3u8", "https://streaming.social3.hr/play/r3CK_tdsFIFL3bN7w4NW1plrwsCToUBsRFjhxM68sZY/m3u8", "https://svs.itworkscdn.net/sat7kidslive/sat7kids.smil/playlist_dvr.m3u8", "https://fl1.moveonjoy.com/Nat_Geo_Wild/index.m3u8", "https://amg00090-blueantllc-lovenature-au-samsungau-wggcn.amagi.tv/playlist/amg00090-blueantllc-lovenature-au-samsungau/playlist.m3u8", "https://ptravelhls.persiana.live/hls/stream.m3u8", "https://stmv6.voxtvhd.com.br/xtremaanimal/xtremaanimal/playlist.m3u8", "https://hls.4utv.live/hls/stream.m3u8", "https://lenz.splus.ir/PLTV/88888888/224/3221226902/index.m3u8", "https://ncdn.telewebion.com/bushehr/live/playlist.m3u8", "https://ncdn.telewebion.com/eshragh/live/playlist.m3u8", "https://fxtvhls.wns.live/hls/stream.m3u8", "https://toonixhls.wns.live/hls/stream.m3u8", "https://icnet1hls.wns.live/hls/stream.m3u8", "https://icnet2hls.wns.live/hls/stream.m3u8", "https://ic3hls.wns.live/hls/stream.m3u8", "https://live.presstv.ir/hls/ifilmfa.m3u8", "https://ncdn.telewebion.com/ilam/live/playlist.m3u8", "https://ncdn.telewebion.com/sina/live/playlist.m3u8", "https://lenz.splus.ir/PLTV/88888888/224/3221226879/index.m3u8", "https://bozztv.com/1gbw5/tintv/tintv/playlist.m3u8", "https://ncdn.telewebion.com/nava/live/playlist.m3u8", "https://t2hls.wns.live/hls/stream.m3u8", "https://araxhls.wns.live/hls/stream.m3u8", "https://arkhls.wns.live/hls/stream.m3u8", "https://ncdn.telewebion.com/noor/live/playlist.m3u8", "https://ncdn.telewebion.com/palestine/live/playlist.m3u8", "https://rpn.bozztv.com/gusa/gusa-chefchampion/index.m3u8", "https://e75fc053c0d2406fb74cdd71d77e1a7f.mediatailor.us-east-1.amazonaws.com/v1/master/f4e8c53a8367a5b58e20ce054ea3ce25a3e904d3/RakutenTV-eu_GustoTV/playlist.m3u8", "https://api.alpaca.t62a.com/hls/9110/index.m3u8", "https://rakutenaa-tm-germany-rakuten-ger-8jboz.amagi.tv/playlist/rakutenAA-tm-germany-rakuten-ger/playlist.m3u8", "https://live20.bozztv.com/giatv/giatv-animalbox/animalbox/chunks.m3u8", "http://109.123.245.192/bein111/index.m3u8", "http://109.123.245.192/Avasport11/index.m3u8", "http://109.123.245.192/Nrt2/index.m3u8" ]; const channelNames = [ ]; let video = document.getElementById("video"); const channelNameBox = document.getElementById("channelName"); const loadingSpinner = document.getElementById("loadingSpinner"); let hls = null; let channel = Number(new URLSearchParams(location.search).get("channel")) || 0; // Display channel name function showChannelName(name) { channelNameBox.textContent = name; channelNameBox.style.opacity = 1; } // Cleanup old HLS / video function resetPlayer() { if (hls) { try { hls.stopLoad(); } catch(e){} try { hls.destroy(); } catch(e){} hls = null; } video.pause(); video.removeAttribute("src"); video.load(); const freshVideo = video.cloneNode(true); video.parentNode.replaceChild(freshVideo, video); video = freshVideo; } // Load stream function loadStream(id) { const url = streams[id]; const name = channelNames[id] || ""; // Redirect rules if (url === "http://213.57.91.138:8000/play/a05k") { location.href = "https://media2.streambrothers.com:1936/8218/8218/HawezHD.m3u8"; return; } if (url === "ht.m3u8") { location.href = "b.html?channel=5"; return; } if (url === "http://109.123.245.192/bein111/index.m3u8") { location.href = "b.html?channel=14"; return; } showChannelName(name); loadingSpinner.style.display = "block"; resetPlayer(); if (!url || !url.endsWith(".m3u8")) return; video.style.display = "block"; if (Hls.isSupported()) { hls = new Hls({ debug: false, autoStartLoad: true, // ✅ BALANCED BUFFER (load کەم) maxBufferLength: 70, // 1.5 خولەک maxMaxBufferLength: 80, // 10 خولەک backBufferLength: 40, // 3 خولەک دواوە // ✅ Live stability liveSyncDuration: 50, liveMaxLatencyDuration: 90, // ✅ Retry باش بۆ network خراپ fragLoadingMaxRetry: 10, fragLoadingRetryDelay: 500, fragLoadingMaxRetryTimeout: 45000, levelLoadingMaxRetry: 15, levelLoadingRetryDelay: 800, abrEwmaDefaultEstimate: 500000, // ✅ Performance enableWorker: true, lowLatencyMode: false }); hls.loadSource(url); hls.attachMedia(video); hls.on(Hls.Events.MANIFEST_PARSED, () => { video.play().catch(() => {}); }); hls.on(Hls.Events.ERROR, (event, data) => { if (!data.fatal) return; switch (data.type) { case Hls.ErrorTypes.NETWORK_ERROR: console.warn("Network error → retry"); hls.startLoad(); break; case Hls.ErrorTypes.MEDIA_ERROR: console.warn("Media error → recover"); hls.recoverMediaError(); break; default: console.warn("Fatal error → reload"); hls.destroy(); setTimeout(() => loadStream(channel), 800); break; } }); } else if (video.canPlayType("application/vnd.apple.mpegurl")) { video.src = url; video.play().catch(() => {}); } else { alert("HLS not supported"); } // Loading indicator video.addEventListener("waiting", () => loadingSpinner.style.display = "block"); video.addEventListener("playing", () => loadingSpinner.style.display = "none"); // Auto resume if paused unexpectedly video.addEventListener("pause", () => { if (!video.ended) { video.play().catch(() => {}); } }); } // Keyboard navigation window.addEventListener("keydown", (e) => { if (e.key === "ArrowRight") channel = (channel + 1) % streams.length; if (e.key === "ArrowLeft") channel = (channel - 1 + streams.length) % streams.length; if (e.key === "Escape" || e.key === "Backspace") location.href = "index.html"; loadStream(channel); }); // Initial load loadStream(channel);